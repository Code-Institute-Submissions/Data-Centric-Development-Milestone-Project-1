{% extends 'base.html' %} {% block title %}Subcategories{% endblock title %} {% block content %}
<!--Displays all Subcategories.-->

<div class="row">

    <h3>Your Story's Subcategories:</h3>
    <br>

</div>

<ul class="collapsible" data-collapsible="expandable">
    {% for subcategory in subcategories %}
    <li>
        <div class="collapsible-header">
            <div class="row" id="collapsible-row">

                <div class="col s4 m6">
                    <strong>{{subcategory.subcategory.capitalize()}}</strong><i class="material-icons">expand_more</i>
                </div>

                <div class="col s8 m6" id="collapsible-button-container">
                    <!--Text is wrapped in a <span> element for purposes of CSS styling-->
                    <a href="{{url_for('edit_subcategory', subcategory_id=subcategory._id)}}" class="waves-effect waves-light btn btn-small right collapsible-btn"><span>VIEW</span></a>
                    <!--On mobile screens, the button text will read 'DEL' instead of 'DELETE'.-->
                    <a href="{{url_for('delete_subcategory', subcategory_id=subcategory._id)}}" onclick="return confirm('Once you delete this item, it cannot be recovered)" class="waves-effect waves-light btn btn-small right collapsible-btn"><span class="no-mobile">DELETE</span><span class="mobile-only">DEL</span></a>
                </div>
            </div>
        </div>

        <div class="collapsible-body">
            <form action="" method="POST" class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">short_text</i>
                        <input id="noEditForm" type="text" class="validate" value="{{subcategory.category_name.capitalize()}}" disabled>
                        <label for="icon_prefix">Category:</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">subdirectory_arrow_right</i>
                        <input id="noEditForm" type="text" class="validate" value="{{subcategory.subcategory.capitalize()}}" disabled>
                        <label for="icon_prefix">Subcategory Name:</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">view_headline</i>
                        <textarea id="noEditForm" type="text" class="materialize-textarea" disabled>{{subcategory.subcategory_description}}</textarea>
                        <label for="icon_telephone">Description:</label>
                    </div>
                </div>
            </form>
        </div>
    </li>
    {% endfor %}
</ul>

<div class="row">
    <div class="col s10 m4">
        <a href="{{ url_for('add_subcategory') }}" class="waves-effect waves-light btn width100">New Subcategory</a>
    </div>
</div>

{% endblock content %}
